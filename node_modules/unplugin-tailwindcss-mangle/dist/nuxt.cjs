'use strict';

const index = require('./index.cjs');
require('node:path');
require('node:fs/promises');
require('unplugin');
require('@tailwindcss-mangle/core');
require('magic-string');
require('./shared/unplugin-tailwindcss-mangle.43bd55b2.cjs');
require('@tailwindcss-mangle/shared');

function nuxt(options = {}, nuxt) {
  nuxt.hook("webpack:config", (config) => {
    config.plugins = config.plugins || [];
    config.plugins.unshift(index.webpack(options));
  });
  nuxt.hook("vite:extendConfig", (config) => {
    config.plugins = config.plugins || [];
    config.plugins.push(index.vite(options));
  });
}

module.exports = nuxt;
